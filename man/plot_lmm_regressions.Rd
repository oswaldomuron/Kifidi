% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_lmm_regressions.R
\name{plot_lmm_regressions}
\alias{plot_lmm_regressions}
\title{Plot Linear Mixed Model (LMM) Regressions by Group}
\usage{
plot_lmm_regressions(
  formula,
  data,
  colors = NULL,
  lty = 1,
  lwd = 2,
  pch = 16,
  xlab = NULL,
  ylab = NULL,
  main = NULL,
  draw_fixed_line = TRUE,
  draw_group_lines = TRUE,
  label_equations = TRUE,
  legend_position = "topright",
  legend = TRUE,
  return_model = FALSE,
  ...
)
}
\arguments{
\item{formula}{A mixed-effects model formula (e.g., \code{y ~ x + (1 | group)}).}

\item{data}{A data frame containing the variables in the formula.}

\item{colors}{Optional vector of colors to use for each group. Defaults to rainbow.}

\item{lty}{Line type(s) for regression lines.}

\item{lwd}{Line width(s) for regression lines.}

\item{pch}{Plotting symbol(s) for points.}

\item{xlab}{Label for the x-axis. Defaults to variable name.}

\item{ylab}{Label for the y-axis. Defaults to variable name.}

\item{main}{Title for the plot.}

\item{draw_fixed_line}{Logical. Should the fixed effects regression line be drawn? Default is TRUE.}

\item{draw_group_lines}{Logical. Should regression lines be drawn for each group using conditional coefficients? Default is TRUE.}

\item{label_equations}{Logical. Should each group’s equation and R² be labeled in the legend? Default is TRUE.}

\item{legend_position}{Position of the legend (e.g., \code{"topright"}).}

\item{legend}{Logical. Should a legend be displayed? Default is TRUE.}

\item{return_model}{Logical. If TRUE, returns the fitted \code{lmer} model object.}

\item{...}{Additional graphical parameters passed to \code{plot()} or \code{points()}.}
}
\value{
Invisibly returns the model object if \code{return_model = TRUE}, otherwise NULL.
}
\description{
This function fits a linear mixed-effects model using \code{lme4::lmer()} and plots
the data with regression lines and equations for each group.
It supports random intercept, random slope, or both, and can label equations
using per-group estimates of slope and intercept.
}
\details{
The function fits a linear mixed-effects model using \code{lme4::lmer()} and
extracts per-group slopes and intercepts using \code{coef(model)[[group_var]]},
which provides group-specific estimates as reported by \code{lme4}.

When \code{label_equations = TRUE}, each group line is labeled in the legend
with its regression equation and R² from an ordinary least squares fit to that group.
The fixed-effect line is plotted with a dashed black line if \code{draw_fixed_line = TRUE}.

This function is useful for visualizing differences between groups in mixed-effects models.
}
\examples{
\dontrun{
library(lme4)
data <- your_dataframe

# Random intercepts only: groups have their own intercepts but share a slope
plot_lmm_regressions(
  OM ~ pH + (1 | Vegetation_types),
  data,
  main = "Random Intercepts Only: Group-specific intercepts, common slope",
  draw_group_lines = TRUE,
  label_equations = TRUE
)

# Random slopes only: groups have their own slopes but share an intercept
plot_lmm_regressions(
  OM ~ pH + (pH - 1 | Vegetation_types),
  data,
  main = "Random Slopes Only: Group-specific slopes, common intercept",
  draw_group_lines = TRUE,
  label_equations = TRUE
)

# Random intercepts and slopes: groups have their own slopes and intercepts
plot_lmm_regressions(
  OM ~ pH + (pH | Vegetation_types),
  data,
  main = "Random Slopes and Intercepts: Group-specific slopes and intercepts",
  draw_group_lines = TRUE,
  label_equations = TRUE
)
}

}
